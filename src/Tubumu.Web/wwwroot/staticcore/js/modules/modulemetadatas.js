webpackJsonp([9],{"+nZf":function(t,e,n){"use strict";var a=n("OnD8"),r=n("IKCM");function i(t){n("9ZPE")}var o=n("VU/8")(a.a,r.a,!1,i,null,null);e.a=o.exports},"/rEA":function(t,h,v){"use strict";(function(a){var t=v("//Fk"),r=v.n(t),e=v("mvHQ"),n=v.n(e),i=v("OvRC"),o=v.n(i),s=v("mtWM"),l=v.n(s),u=v("mw3O"),d=v.n(u),c=v("bzuE"),f="default",p="sysetem";function m(t,e,n){this.name="ApiError",this.message=t||"Default Message",this.errorType=e||f,this.innerError=n,this.stack=(new Error).stack}(m.prototype=o()(Error.prototype)).constructor=m;var g=l.a.create({baseURL:c.a,timeout:2e4,responseType:"json",withCredentials:!0});g.interceptors.request.use(function(t){return"post"===t.method||"put"===t.method||"patch"===t.method?(t.headers={"Content-Type":"application/json; charset=UTF-8"},t.data=n()(t.data)):"delete"!==t.method&&"get"!==t.method&&"head"!==t.method||(t.paramsSerializer=function(t){return d.a.stringify(t,{arrayFormat:"indices"})}),localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t},function(t){return t}),g.interceptors.response.use(function(t){if(-1===t.headers["content-type"].indexOf("json"))return t;var e=void 0;if("arraybuffer"===t.request.responseType&&"[object ArrayBuffer]"===t.data.toString()){var n=a.from(t.data).toString("utf8");e=JSON.parse(n)}else e=t.data;if(e){if(e.data&&(e.data.token&&(localStorage.token=e.data.token),e.data.refreshToken&&(localStorage.refreshToken=e.data.refreshToken)),e.url)return void(top.location=e.url);if(200!==e.code)return console.log(e),r.a.reject(new m(e.message))}return t},function(t){if(console.log(t.response.headers),401===t.response.status){if(-1!==t.response.headers["content-type"].indexOf("json")&&t.response.data.url)return void(top.location=t.response.data.url);if(t.response.headers["token-expired"]&&localStorage.token&&localStorage.refreshToken){console.log("Refresh Token");var e={token:localStorage.token,refreshToken:localStorage.refreshToken};return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),g.post("/admin/refreshToken",e),r.a.reject(new m("登录超时，自动登录中......",p,t))}}return r.a.reject(new m(t.message,p,t))}),h.a={install:function(t,e){t.httpClient=g,t.prototype.$httpClient=g}}}).call(h,v("EuP9").Buffer)},"68aa":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("tvR6"),r=(n.n(a),n("qBF2")),i=n.n(r),o=n("7+uW"),s=n("/rEA"),l=n("uN2V"),u=(n.n(l),n("+nZf"));o.default.config.productionTip=!1,o.default.use(s.a),o.default.use(i.a,{size:"mini"}),new o.default({el:"#app",render:function(t){return t(u.a)}})},"9ZPE":function(t,e){},IKCM:function(t,e,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.isLoading,expression:"isLoading",modifiers:{fullscreen:!0,lock:!0}}]},[n("el-header",{staticClass:"header"},[n("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[n("el-breadcrumb-item",[e._v("系统管理")]),e._v(" "),n("el-breadcrumb-item",[e._v("模块元数据")])],1)],1),e._v(" "),n("el-main",{staticClass:"main"},[n("el-row",[n("el-button-group",[n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.handleExtractModuleMetaDatas}},[e._v("提取模块元数据")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-time"},on:{click:e.handleClearModulePermissions}},[e._v("清理模块权限")])],1)],1),e._v(" "),n("el-row",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"权限",name:"first"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permissionList,"empty-text":e.emptyText}},[n("el-table-column",{attrs:{prop:"displayOrder",label:"#",width:"40"}}),e._v(" "),n("el-table-column",{attrs:{prop:"moduleName",label:"模块",width:"360"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"名称"}})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"角色",name:"second"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList,"empty-text":e.emptyText}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"分组",name:"third"}},[n("el-tree",{ref:"tree",attrs:{data:e.groupTreeData,props:e.groupTreeDefaultProps,"empty-text":e.emptyText,"node-key":"id","default-expand-all":!0}})],1)],1)],1)],1)],1)},staticRenderFns:[]};e.a=a},OnD8:function(t,e,n){"use strict";var a=n("VsUZ");e.a={data:function(){return{isLoading:!1,activeTabName:"first",permissionList:null,roleList:null,groupTreeData:[],groupTreeDefaultProps:{children:"children",label:"name",value:"id"}}},mounted:function(){this.getModuleMetaDatas()},computed:{emptyText:function(){return this.isLoading?"加载中...":"暂无数据"}},methods:{getModuleMetaDatas:function(){var e=this;this.isLoading=!0,a.a.getModuleMetaDatas().then(function(t){e.isLoading=!1,e.permissionList=t.data.data.permissions,e.roleList=t.data.data.roles,e.groupTreeData=t.data.data.groups},function(t){e.isLoading=!1,e.$message.error(t.message)})},handleExtractModuleMetaDatas:function(){var e=this;this.isLoading=!0,a.a.extractModuleMetaDatas().then(function(t){e.isLoading=!1,e.getModuleMetaDatas(),e.$message.success(t.data.message)},function(t){e.isLoading=!1,e.$message.error(t.message)})},handleClearModulePermissions:function(){var e=this;this.isLoading=!0,a.a.clearModulePermissions().then(function(t){e.isLoading=!1,e.getModuleMetaDatas(),e.$message.success(t.data.message)},function(t){e.isLoading=!1,e.$message.error(t.message)})}}}},VsUZ:function(t,e,n){"use strict";var a=n("7+uW");e.a={login:function(t){return a.default.httpClient.post("/admin/login",t)},refreshToken:function(t){return a.default.httpClient.post("/admin/refreshToken",t)},logout:function(){return a.default.httpClient.post("/admin/logout")},getProfile:function(){return a.default.httpClient.get("/admin/getProfile")},changeProfile:function(t){return a.default.httpClient.post("/admin/changeProfile",t)},changeAvatar:function(t){return a.default.uploadHttpClient.post("/admin/ChangeAvatar",t)},changeLogo:function(t){return a.default.uploadHttpClient.post("/admin/ChangeLogo",t)},changePassword:function(t){return a.default.httpClient.post("/admin/changePassword",t)},getMenus:function(){return a.default.httpClient.get("/admin/getMenus")},getBulletin:function(){return a.default.httpClient.get("/admin/getBulletin")},editBulletin:function(t){return a.default.httpClient.post("/admin/editBulletin",t)},getModuleMetaDatas:function(){return a.default.httpClient.get("/admin/getModuleMetaDatas")},extractModuleMetaDatas:function(){return a.default.httpClient.get("/admin/extractModuleMetaDatas")},clearModulePermissions:function(){return a.default.httpClient.get("/admin/clearModulePermissions")},getRoleList:function(){return a.default.httpClient.get("/admin/getRoleList")},addRole:function(t){return a.default.httpClient.post("/admin/addRole",t)},editRole:function(t){return a.default.httpClient.post("/admin/editRole",t)},removeRole:function(t){return a.default.httpClient.post("/admin/removeRole",t)},moveRole:function(t){return a.default.httpClient.post("/admin/moveRole",t)},saveRoleName:function(t){return a.default.httpClient.post("/admin/saveRoleName",t)},getGroupTree:function(){return a.default.httpClient.get("/admin/getGroupTree")},addGroup:function(t){return a.default.httpClient.post("/admin/addGroup",t)},editGroup:function(t){return a.default.httpClient.post("/admin/editGroup",t)},removeGroup:function(t){return a.default.httpClient.post("/admin/removeGroup",t)},moveGroup:function(t){return a.default.httpClient.post("/admin/moveGroup",t)},getUserPage:function(t){return a.default.httpClient.post("/admin/getUserPage",t)},addUser:function(t){return a.default.httpClient.post("/admin/addUser",t)},editUser:function(t){return a.default.httpClient.post("/admin/editUser",t)},removeUser:function(t){return a.default.httpClient.post("/admin/removeUser",t)},getUserStatuList:function(){return a.default.httpClient.get("/admin/getUserStatuList")},validateUsernameExists:function(t){return a.default.httpClient.post("/admin/ValidateUsernameExists",t)},validateMobileExists:function(t){return a.default.httpClient.post("/admin/ValidateMobileExists",t)},validateEmailExists:function(t){return a.default.httpClient.post("/admin/ValidateEmailExists",t)},changeUserAvatar:function(t){return a.default.uploadHttpClient.post("/admin/ChangeUserAvatar",t)},changeUserLogo:function(t){return a.default.uploadHttpClient.post("/admin/ChangeUserLogo",t)},getNotificationsForManager:function(t){return a.default.httpClient.post("/admin/getNotificationsForManager",t)},addNotification:function(t){return a.default.httpClient.post("/admin/addNotification",t)},editNotification:function(t){return a.default.httpClient.post("/admin/editNotification",t)},removeNotification:function(t){return a.default.httpClient.post("/admin/removeNotification",t)},getNotifications:function(t){return a.default.httpClient.post("/admin/getNotifications",t)},readNotifications:function(t){return a.default.httpClient.post("/admin/readNotifications",t)},deleteNotifications:function(t){return a.default.httpClient.post("/admin/deleteNotifications",t)},getNewestNotification:function(t){return a.default.httpClient.post("/admin/getNewestNotification",t)},getGroupList:function(){return a.default.httpClient.get("/admin/getGroupList")},getRoleBaseList:function(){return a.default.httpClient.get("/admin/getRoleBaseList")},getPermissionTree:function(){return a.default.httpClient.get("/admin/getPermissionTree")},callDirectly:function(t){return a.default.httpClient.get(t)},download:function(t,e){return a.default.httpClient.post(t,e,{responseType:"arraybuffer"})}}},bzuE:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i});var a="/api",r="",i=""},tvR6:function(t,e){},uN2V:function(t,e){}},["68aa"]);
//# sourceMappingURL=modulemetadatas.js.map