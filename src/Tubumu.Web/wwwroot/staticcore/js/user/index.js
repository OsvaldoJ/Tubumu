webpackJsonp([13],{"Q+Zd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),r=a("/ocq"),o=a("uzdP");i.default.use(r.a);var n=[{path:"/",name:"app",component:o.a}],s=new r.a({routes:n});t.default=s},VsUZ:function(e,t,a){"use strict";var i=a("7+uW");t.a={login:function(e){return i.default.httpClient.post("/admin/login",e)},refreshToken:function(e){return i.default.httpClient.post("/admin/refreshToken",e)},logout:function(){return i.default.httpClient.post("/admin/logout")},getProfile:function(){return i.default.httpClient.get("/admin/getProfile")},changeProfile:function(e){return i.default.httpClient.post("/admin/changeProfile",e)},changeAvatar:function(e){return i.default.uploadHttpClient.post("/admin/ChangeAvatar",e)},changeLogo:function(e){return i.default.uploadHttpClient.post("/admin/ChangeLogo",e)},changePassword:function(e){return i.default.httpClient.post("/admin/changePassword",e)},getMenus:function(){return i.default.httpClient.get("/admin/getMenus")},getBulletin:function(){return i.default.httpClient.get("/admin/getBulletin")},editBulletin:function(e){return i.default.httpClient.post("/admin/editBulletin",e)},getModuleMetaDatas:function(){return i.default.httpClient.get("/admin/getModuleMetaDatas")},extractModuleMetaDatas:function(){return i.default.httpClient.get("/admin/extractModuleMetaDatas")},clearModulePermissions:function(){return i.default.httpClient.get("/admin/clearModulePermissions")},getRoleList:function(){return i.default.httpClient.get("/admin/getRoleList")},addRole:function(e){return i.default.httpClient.post("/admin/addRole",e)},editRole:function(e){return i.default.httpClient.post("/admin/editRole",e)},removeRole:function(e){return i.default.httpClient.post("/admin/removeRole",e)},moveRole:function(e){return i.default.httpClient.post("/admin/moveRole",e)},saveRoleName:function(e){return i.default.httpClient.post("/admin/saveRoleName",e)},getGroupTree:function(){return i.default.httpClient.get("/admin/getGroupTree")},addGroup:function(e){return i.default.httpClient.post("/admin/addGroup",e)},editGroup:function(e){return i.default.httpClient.post("/admin/editGroup",e)},removeGroup:function(e){return i.default.httpClient.post("/admin/removeGroup",e)},moveGroup:function(e){return i.default.httpClient.post("/admin/moveGroup",e)},getUserPage:function(e){return i.default.httpClient.post("/admin/getUserPage",e)},addUser:function(e){return i.default.httpClient.post("/admin/addUser",e)},editUser:function(e){return i.default.httpClient.post("/admin/editUser",e)},removeUser:function(e){return i.default.httpClient.post("/admin/removeUser",e)},getUserStatuList:function(){return i.default.httpClient.get("/admin/getUserStatuList")},changeUserAvatar:function(e){return i.default.uploadHttpClient.post("/admin/ChangeUserAvatar",e)},changeUserLogo:function(e){return i.default.uploadHttpClient.post("/admin/ChangeUserLogo",e)},getNotificationsForManager:function(e){return i.default.httpClient.post("/admin/getNotificationsForManager",e)},addNotification:function(e){return i.default.httpClient.post("/admin/addNotification",e)},editNotification:function(e){return i.default.httpClient.post("/admin/editNotification",e)},removeNotification:function(e){return i.default.httpClient.post("/admin/removeNotification",e)},getNotifications:function(e){return i.default.httpClient.post("/admin/getNotifications",e)},readNotifications:function(e){return i.default.httpClient.post("/admin/readNotifications",e)},deleteNotifications:function(e){return i.default.httpClient.post("/admin/deleteNotifications",e)},getNewestNotification:function(e){return i.default.httpClient.post("/admin/getNewestNotification",e)},getGroupList:function(){return i.default.httpClient.get("/admin/getGroupList")},getRoleBaseList:function(){return i.default.httpClient.get("/admin/getRoleBaseList")},getPermissionTree:function(){return i.default.httpClient.get("/admin/getPermissionTree")},callDirectly:function(e){return i.default.httpClient.get(e)},download:function(e,t){return i.default.httpClient.post(e,t,{responseType:"arraybuffer"})}}},dZjg:function(e,t,a){"use strict";var i=a("BO1k"),l=a.n(i),r=a("VsUZ"),o=a("M4fF"),n=a.n(o),s=a("NC6I"),m=a.n(s);t.a={data:function(){var i=this;return{isLoading:!1,activeTabName:"first",page:{list:null,totalItemCount:null,totalPageCount:null},isSearchCriteriaFormExpand:!1,searchCriteriaForm:{keyword:null,groupIds:null,creationTime:null,creationTimeBegin:null,creationTimeEnd:null,status:null,groupIdPath:[],pagingInfo:{pageNumber:1,pageSize:20,isExcludeMetaData:!1,sortInfo:{sort:"userId",sortDir:"ASC"}}},removeActive:null,uploadImageTypeId:null,uploadImageDialogVisible:!1,uploadImagePreviewUrl:null,uploadImageForm:{userId:null},editActive:null,mainFormDialogVisible:!1,mainForm:{userId:null,status:null,username:null,displayName:null,realName:null,realNameIsValid:!1,email:null,emailIsValid:!1,mobile:null,mobileIsValid:!1,groupIdPath:[],groupId:null,groupIds:[],roleId:null,roleIds:[],permissionIds:null,password:null,passwordConfirm:null,description:null,isDeveloper:!1,isTester:!1},mainFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:20,message:"最多支持20个字符",trigger:"blur"}],displayName:[{max:20,message:"最多支持20个字符",trigger:"blur"}],realName:[{max:100,message:"最多支持100个字符",trigger:"blur"}],mobile:[{pattern:/^1\d{10}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{pattern:/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,message:"请输入正确的邮箱",trigger:"blur"}],groupIdPath:[{required:!0,type:"array",message:"请选择主要分组",trigger:"change"}],password:[{validator:function(e,t,a){!i.editActive||t&&0!==t.length||a(),t?t.length<6?a(new Error("请输入至少6位密码")):32<t.length?a(new Error("密码请保持在32位以内")):a():a(new Error("请输入登录密码"))},trigger:"blur"}],passwordConfirm:[{validator:function(e,t,a){!i.editActive||i.mainForm.password&&0!==i.mainForm.password.length||a(),t?t!==i.mainForm.password?a(new Error("两次输入密码不一致!")):a():a(new Error("请输入确认密码"))},trigger:"blur"}]},editPermissionTreeData:null,editPermissionTreeDefaultProps:{children:"children",label:"name"},editGroupRoleListData:null,editRoleListData:null,editGroupTreeData:[],editGroupTreeDefaultProps:{children:"children",value:"id",label:"name"}}},mounted:function(){this.getPage(),this.getGroupTree(),this.getRoleBaseList(),this.getPermissionTree()},computed:{mainTableEmptyText:function(){return this.isLoading?"加载中...":"暂无数据"}},watch:{},methods:{getPage:function(){var t=this;this.isLoading=!0;var e=this.searchCriteriaForm;r.a.getUserPage(e).then(function(e){t.isLoading=!1,t.page=e.data.data},function(e){t.isLoading=!1,t.$message.error(e.message)})},handlePaginationSizeChange:function(e){this.searchCriteriaForm.pagingInfo.pageSize=e,this.searchCriteriaForm.pagingInfo.pageNumber=1,this.getPage()},handlePaginationCurrentChange:function(e){this.searchCriteriaForm.pagingInfo.pageNumber=e,this.getPage()},getGroupTree:function(){var t=this;r.a.getGroupTree().then(function(e){t.editGroupTreeData=e.data.data},function(e){t.$message.error(e.message)})},getRoleBaseList:function(){var t=this;r.a.getRoleBaseList().then(function(e){t.editRoleListData=e.data.data},function(e){t.$message.error(e.message)})},getPermissionTree:function(){var t=this;r.a.getPermissionTree().then(function(e){t.editPermissionTreeData=e.data.data},function(e){t.$message.error(e.message)})},handleSearchAll:function(){this.searchCriteriaForm.pagingInfo.pageNumber=1,this.searchCriteriaForm.keyword=null,this.searchCriteriaForm.groupIds=null,this.searchCriteriaForm.creationTime=null,this.searchCriteriaForm.creationTimeBegin=null,this.searchCriteriaForm.creationTimeEnd=null,this.searchCriteriaForm.status=null,this.searchCriteriaForm.groupIdPath=[],this.getPage()},handleSearch:function(){this.searchCriteriaForm.pagingInfo.pageNumber=1,this.searchCriteriaForm.creationTime&&2===this.searchCriteriaForm.creationTime.length&&(this.searchCriteriaForm.creationTimeBegin=this.searchCriteriaForm.creationTime[0],this.searchCriteriaForm.creationTimeEnd=this.searchCriteriaForm.creationTime[1]),this.searchCriteriaForm.groupIds=this.searchCriteriaForm.groupIdPath&&this.searchCriteriaForm.groupIdPath.length?[this.searchCriteriaForm.groupIdPath[this.searchCriteriaForm.groupIdPath.length-1]]:null,this.getPage()},handleAdd:function(){var e=this;this.validateBaseData()&&(this.activeTabName="first",this.editActive=null,this.mainFormDialogVisible=!0,this.mainForm.userId=null,this.mainForm.status="Normal",this.mainForm.username=null,this.mainForm.displayName=null,this.mainForm.realName=null,this.mainForm.realNameIsValid=!1,this.mainForm.email=null,this.mainForm.emailIsValid=!1,this.mainForm.mobile=null,this.mainForm.mobileIsValid=!1,this.mainForm.groupIdPath=[],this.mainForm.groupId=null,this.mainForm.groupIds=[],this.mainForm.roleId=null,this.editGroupRoleListData=[],this.mainForm.roleIds=[],this.mainForm.permissionIds=null,this.mainForm.password=null,this.mainForm.passwordConfirm=null,this.mainForm.description=null,this.mainForm.isDeveloper=!1,this.mainForm.isTester=!1,this.$nextTick(function(){e.$refs.editGroupTree.setCheckedKeys([],!0),e.$refs.editPermissionTree.setCheckedKeys([],!0),e.clearValidate("mainForm")}))},handleEdit:function(e){var t=this;console.log("handleEdit",e),this.validateBaseData()&&e&&(this.activeTabName="first",this.editActive=e,this.mainFormDialogVisible=!0,this.mainForm.userId=e.userId,this.mainForm.status=e.status,this.mainForm.username=e.username,this.mainForm.displayName=e.displayName,this.mainForm.realName=e.realName,this.mainForm.realNameIsValid=e.realNameIsValid,this.mainForm.email=e.email,this.mainForm.emailIsValid=e.emailIsValid,this.mainForm.mobile=e.mobile,this.mainForm.mobileIsValid=e.mobileIsValid,this.getGroupIdPath(this.editGroupTreeData,e.group.groupId),this.mainForm.groupId=e.group.groupId,this.mainForm.groupIds=e.groups.map(function(e){return e.groupId}),this.mainForm.roleId=e.role?e.role.roleId:null,this.getGroupAvailableRoles(this.editGroupTreeData,e.group.groupId),this.mainForm.roleIds=e.roles.map(function(e){return e.roleId}),this.mainForm.permissionIds=e.permissions.map(function(e){return e.permissionId}),this.mainForm.password=null,this.mainForm.passwordConfirm=null,this.mainForm.description=e.description,this.mainForm.isDeveloper=e.isDeveloper,this.mainForm.isTester=e.isTester,this.$nextTick(function(){t.$refs.editGroupTree.setCheckedKeys(t.mainForm.groupIds,!0),t.$refs.editPermissionTree.setCheckedKeys(t.mainForm.permissionIds,!0),t.clearValidate("mainForm")}))},handleMainFormSure:function(e){console.log("handleMainFormSure",e),e?this.editActive?this.edit():this.add():this.mainFormDialogVisible=!1},handleRemove:function(e){var t=this;this.removeActive=e,this.$confirm("删除该用户后，相关的数据也将被删除。是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.remove()}).catch(function(){t.removeActive=null})},handleGroupCascaderChange:function(e){console.log(e),this.mainForm.roleId=null,this.editGroupRoleListData=[],0!==e.length&&this.getGroupAvailableRoles(this.editGroupTreeData,e[e.length-1])},add:function(){var a=this;this.$refs.mainForm.validate(function(e){if(!e)return!1;a.isLoading=!0,a.mainForm.groupId=a.mainForm.groupIdPath[a.mainForm.groupIdPath.length-1];var t=n.a.cloneDeep(a.mainForm);a.params.password&&(t.password=m()(t.password)),t.passwordConfirm&&(t.passwordConfirm=m()(t.passwordConfirm)),r.a.addUser(t).then(function(e){a.isLoading=!1,a.mainFormDialogVisible=!1,a.getPage()},function(e){a.isLoading=!1,a.$message.error(e.message)})})},edit:function(){var a=this;this.editActive?this.$refs.mainForm.validate(function(e){if(!e)return!1;a.isLoading=!0,a.mainForm.groupId=a.mainForm.groupIdPath[a.mainForm.groupIdPath.length-1];var t=n.a.cloneDeep(a.mainForm);t.password&&(t.password=m()(t.password)),t.passwordConfirm&&(t.passwordConfirm=m()(t.passwordConfirm)),r.a.editUser(t).then(function(e){a.isLoading=!1,a.editActive=null,a.mainFormDialogVisible=!1,a.getPage()},function(e){a.isLoading=!1,a.$message.error(e.message)})}):this.$message.error("异常：无编辑目标")},remove:function(){var t=this;if(this.removeActive){var e={userId:this.removeActive.userId};this.isLoading=!0,r.a.removeUser(e).then(function(e){t.isLoading=!1,t.removeActive=null,t.getPage()},function(e){t.isLoading=!1,t.$message.error(e.message)})}},validateBaseData:function(){return this.editGroupTreeData&&0!==this.editGroupTreeData.length?this.editRoleListData?!!this.editPermissionTreeData||(this.$message.error("基础数据缺失：权限列表"),!1):(this.$message.error("基础数据缺失：角色列表"),!1):(this.$message.error("基础数据缺失：分组列表"),!1)},handleGroupTreeCheckChange:function(e,t,a){this.mainForm.groupIds=this.$refs.editGroupTree.getCheckedKeys()},handlePermissionTreeCheckChange:function(e,t,a){this.mainForm.permissionIds=this.$refs.editPermissionTree.getCheckedKeys()},getGroupIdPath:function(e,t){if(e){var a=!0,i=!1,r=void 0;try{for(var o,n=l()(e);!(a=(o=n.next()).done);a=!0){var s=o.value;if(s.id===t){this.mainForm.groupIdPath=s.parentIdPath?s.parentIdPath.concat():[],this.mainForm.groupIdPath.push(t);break}this.getGroupIdPath(s.children,t)}}catch(e){i=!0,r=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw r}}}},getGroupAvailableRoles:function(e,t){if(this.editGroupRoleListData=[],e){var a=!0,i=!1,r=void 0;try{for(var o,n=l()(e);!(a=(o=n.next()).done);a=!0){var s=o.value;if(s.id===t){this.editGroupRoleListData=s.availableRoles;break}this.getGroupAvailableRoles(s.children,t)}}catch(e){i=!0,r=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw r}}}},resetForm:function(e){this.$refs[e].resetFields()},clearValidate:function(e){this.$refs[e].clearValidate()},handleSortChange:function(e){this.searchCriteriaForm.pagingInfo.sortInfo.sort=e.prop,this.searchCriteriaForm.pagingInfo.sortInfo.sortDir="descending"===e.order?"DESC":"ASC",this.searchCriteriaForm.pagingInfo.pageNumber=1,this.getPage()},handleChangeAvatar:function(e){this.handleChangeImage(e,1)},handleChangeLogo:function(e){this.handleChangeImage(e,2)},handleChangeImage:function(e,t){this.uploadImageTypeId=t,this.uploadImageForm.userId=e.userId;var a=1===t?e.avatarUrl:e.logoUrl;this.uploadImagePreviewUrl=a?a+"?"+(new Date).getTime():null,this.uploadImageDialogVisible=!0},beforeUpload:function(e){console.log("beforeUpload");var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<1;return t||this.$message.error("上传图片只能是 JPG 或 PNG 格式"),a||this.$message.error("上传图片大小不能超过 1MB"),t&&a},uploadImage:function(e){var t=this;if(1===this.uploadImageTypeId||2===this.uploadImageTypeId){this.isLoading=!0;var a=new FormData;a.append("userId",this.uploadImageForm.userId),a.append("file",e.file),(1===this.uploadImageTypeId?r.a.changeUserAvatar:r.a.changeUserLogo)(a).then(function(e){t.isLoading=!1,t.uploadImagePreviewUrl=e.data.url+"?"+(new Date).getTime(),t.getPage()},function(e){t.isLoading=!1,t.$message.error(e.message)})}else this.$message.error("未知图片类型")}}}},hWGZ:function(e,t){},"l3+X":function(e,t,a){"use strict";var i={render:function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("el-container",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:a.isLoading,expression:"isLoading",modifiers:{fullscreen:!0,lock:!0}}]},[i("el-header",{staticClass:"header"},[i("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[a._v("用户管理")]),a._v(" "),i("el-breadcrumb-item",[a._v("用户列表")])],1)],1),a._v(" "),i("el-main",{staticClass:"main"},[i("el-form",{ref:"searchCriteriaForm",staticClass:"searchCriteriaForm",attrs:{model:a.searchCriteriaForm,inline:""}},[i("el-row",[i("el-form-item",[i("el-input",{staticClass:"filterText",attrs:{placeholder:"关键字(用户名/真实名称/昵称/邮箱/手机号)",clearable:""},model:{value:a.searchCriteriaForm.keyword,callback:function(e){a.$set(a.searchCriteriaForm,"keyword",e)},expression:"searchCriteriaForm.keyword"}})],1),a._v(" "),i("el-form-item",[i("el-cascader",{attrs:{options:a.editGroupTreeData,props:a.editGroupTreeDefaultProps,clearable:"","change-on-select":"",filterable:"",placeholder:"分组"},model:{value:a.searchCriteriaForm.groupIdPath,callback:function(e){a.$set(a.searchCriteriaForm,"groupIdPath",e)},expression:"searchCriteriaForm.groupIdPath"}})],1),a._v(" "),i("el-form-item",[i("xl-userStatusSelect",{model:{value:a.searchCriteriaForm.status,callback:function(e){a.$set(a.searchCriteriaForm,"status",e)},expression:"searchCriteriaForm.status"}})],1),a._v(" "),i("el-form-item",[i("el-button",{attrs:{plain:"",icon:a.isSearchCriteriaFormExpand?"el-icon-caret-top":"el-icon-caret-bottom"},on:{click:function(e){a.isSearchCriteriaFormExpand=!a.isSearchCriteriaFormExpand}}}),a._v(" "),i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return a.handleSearch()}}},[a._v("搜索")]),a._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return a.handleSearchAll()}}},[a._v("全部")])],1),a._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return a.handleAdd()}}},[a._v("添加")])],1)],1),a._v(" "),i("el-row",{directives:[{name:"show",rawName:"v-show",value:a.isSearchCriteriaFormExpand,expression:"isSearchCriteriaFormExpand"}]},[i("el-form-item",[i("xl-datePicker",{model:{value:a.searchCriteriaForm.creationTime,callback:function(e){a.$set(a.searchCriteriaForm,"creationTime",e)},expression:"searchCriteriaForm.creationTime"}})],1)],1)],1),a._v(" "),i("el-row",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:a.page.list,"empty-text":a.mainTableEmptyText},on:{"sort-change":a.handleSortChange}},[i("el-table-column",{attrs:{prop:"userId",label:"#",width:"60",sortable:"custom"}}),a._v(" "),i("el-table-column",{attrs:{prop:"username",label:"用户名",width:"200",sortable:"custom"}}),a._v(" "),i("el-table-column",{attrs:{prop:"group.name",label:"分组",width:"160"}}),a._v(" "),i("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("span",[a._v(a._s(e.row.role?e.row.role.name:""))])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"displayName",label:"昵称",width:"100"}}),a._v(" "),i("el-table-column",{attrs:{label:"真实名称",width:"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("i",{directives:[{name:"show",rawName:"v-show",value:e.row.realName&&!e.row.realNameIsValid,expression:"scope.row.realName && !scope.row.realNameIsValid"}],staticClass:"el-icon-question"}),a._v(" "),i("span",[a._v(a._s(e.row.realName))])]}}])}),a._v(" "),i("el-table-column",{attrs:{label:"手机号码",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("i",{directives:[{name:"show",rawName:"v-show",value:e.row.mobile&&!e.row.mobileIsValid,expression:"scope.row.mobile && !scope.row.mobileIsValid"}],staticClass:"el-icon-question"}),a._v(" "),i("span",[a._v(a._s(e.row.mobile))])]}}])}),a._v(" "),i("el-table-column",{attrs:{label:"Email",width:"140"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("i",{directives:[{name:"show",rawName:"v-show",value:e.row.email&&!e.row.emailIsValid,expression:"scope.row.email && !scope.row.emailIsValid"}],staticClass:"el-icon-question"}),a._v(" "),i("span",[a._v(a._s(e.row.email))])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"statusText",label:"状态",width:"60"}}),a._v(" "),i("el-table-column",{attrs:{prop:"creationTime",label:"创建时间",width:"160"}}),a._v(" "),i("el-table-column",{attrs:{label:"开发",width:"60"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n            "+a._s(e.row.isDeveloper?"√":"×")+"\n          ")]}}])}),a._v(" "),i("el-table-column",{attrs:{label:"测试",width:"60"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n            "+a._s(e.row.isTester?"√":"×")+"\n          ")]}}])}),a._v(" "),i("el-table-column",{attrs:{align:"center",fixed:"right",width:"126"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-news"},on:{click:function(e){return a.handleChangeAvatar(t.row)}}}),a._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-picture-outline"},on:{click:function(e){return a.handleChangeLogo(t.row)}}}),a._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(e){return a.handleEdit(t.row)}}}),a._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(e){return a.handleRemove(t.row)}}})]}}])})],1)],1),a._v(" "),i("el-dialog",{attrs:{visible:a.uploadImageDialogVisible,"close-on-click-modal":!1,width:"200px"},on:{"update:visible":function(e){a.uploadImageDialogVisible=e}},nativeOn:{submit:function(e){e.preventDefault()}}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v("\n          "+a._s(1===this.uploadImageTypeId?"修改用户头像":"修改用户 Logo")+"\n        ")]),a._v(" "),i("el-upload",{ref:"uploader",staticClass:"uploader",attrs:{action:"","auto-upload":!0,"show-file-list":!1,"before-upload":a.beforeUpload,"http-request":a.uploadImage}},[a.uploadImagePreviewUrl?i("img",{staticClass:"uploaderPreview",attrs:{src:a.uploadImagePreviewUrl}}):i("i",{staticClass:"el-icon-plus uploader-icon"})])],1),a._v(" "),i("el-dialog",{attrs:{visible:a.mainFormDialogVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){a.mainFormDialogVisible=e}},nativeOn:{submit:function(e){e.preventDefault()}}},[i("span",{attrs:{slot:"title"},slot:"title"},[a._v("\n        "+a._s(a.editActive?"编辑":"添加")+"\n      ")]),a._v(" "),i("el-form",{ref:"mainForm",attrs:{model:a.mainForm,rules:a.mainFormRules,"label-position":"right","label-width":"160px"}},[i("el-tabs",{attrs:{type:"card"},model:{value:a.activeTabName,callback:function(e){a.activeTabName=e},expression:"activeTabName"}},[i("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[i("el-form-item",{attrs:{label:"主要分组",prop:"groupIdPath"}},[i("el-cascader",{attrs:{options:a.editGroupTreeData,props:a.editGroupTreeDefaultProps,clearable:"","change-on-select":"",filterable:"",placeholder:"请选择主要分组"},on:{change:a.handleGroupCascaderChange},model:{value:a.mainForm.groupIdPath,callback:function(e){a.$set(a.mainForm,"groupIdPath",e)},expression:"mainForm.groupIdPath"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"主要角色",prop:"roleId"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择主要角色"},model:{value:a.mainForm.roleId,callback:function(e){a.$set(a.mainForm,"roleId",e)},expression:"mainForm.roleId"}},a._l(a.editGroupRoleListData,function(e){return i("el-option",{key:e.roleId,attrs:{label:e.name,value:e.roleId}})}),1)],1),a._v(" "),i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{ref:"username",attrs:{autocomplete:"off",placeholder:"请输入用户名"},model:{value:a.mainForm.username,callback:function(e){a.$set(a.mainForm,"username","string"==typeof e?e.trim():e)},expression:"mainForm.username"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"状态",required:!0}},[i("xl-userStatusRadioGroup",{model:{value:a.mainForm.status,callback:function(e){a.$set(a.mainForm,"status",e)},expression:"mainForm.status"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"登录密码",prop:"password",required:!a.editActive}},[i("el-input",{attrs:{type:"password",placeholder:a.editActive?"如果不修改密码，请保持为空":"请输入登录密码","show-password":""},model:{value:a.mainForm.password,callback:function(e){a.$set(a.mainForm,"password",e)},expression:"mainForm.password"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"passwordConfirm",required:!a.editActive}},[i("el-input",{attrs:{type:"password",placeholder:a.editActive?"如果不修改密码，请保持为空":"请输入确认密码","show-password":""},model:{value:a.mainForm.passwordConfirm,callback:function(e){a.$set(a.mainForm,"passwordConfirm",e)},expression:"mainForm.passwordConfirm"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"昵称"}},[i("el-input",{attrs:{type:"text"},model:{value:a.mainForm.displayName,callback:function(e){a.$set(a.mainForm,"displayName",e)},expression:"mainForm.displayName"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"真实名称"}},[i("el-input",{attrs:{type:"text"},model:{value:a.mainForm.realName,callback:function(e){a.$set(a.mainForm,"realName",e)},expression:"mainForm.realName"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"真实名称是否验证"}},[i("el-switch",{model:{value:a.mainForm.realNameIsValid,callback:function(e){a.$set(a.mainForm,"realNameIsValid",e)},expression:"mainForm.realNameIsValid"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"text"},model:{value:a.mainForm.email,callback:function(e){a.$set(a.mainForm,"email",e)},expression:"mainForm.email"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"邮箱是否验证"}},[i("el-switch",{model:{value:a.mainForm.emailIsValid,callback:function(e){a.$set(a.mainForm,"emailIsValid",e)},expression:"mainForm.emailIsValid"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[i("el-input",{attrs:{type:"text"},model:{value:a.mainForm.mobile,callback:function(e){a.$set(a.mainForm,"mobile",e)},expression:"mainForm.mobile"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"手机号码是否验证"}},[i("el-switch",{model:{value:a.mainForm.mobileIsValid,callback:function(e){a.$set(a.mainForm,"mobileIsValid",e)},expression:"mainForm.mobileIsValid"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea",rows:2},model:{value:a.mainForm.description,callback:function(e){a.$set(a.mainForm,"description","string"==typeof e?e.trim():e)},expression:"mainForm.description"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"是否是开发人员"}},[i("el-switch",{model:{value:a.mainForm.isDeveloper,callback:function(e){a.$set(a.mainForm,"isDeveloper",e)},expression:"mainForm.isDeveloper"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"是否是测试人员"}},[i("el-switch",{model:{value:a.mainForm.isTester,callback:function(e){a.$set(a.mainForm,"isTester",e)},expression:"mainForm.isTester"}})],1)],1),a._v(" "),i("el-tab-pane",{attrs:{label:"附加分组",name:"second"}},[i("el-form-item",{attrs:{label:"附加分组"}},[i("el-tree",{ref:"editGroupTree",attrs:{data:a.editGroupTreeData,props:a.editGroupTreeDefaultProps,"node-key":"id","empty-text":"","show-checkbox":"","default-expand-all":"","check-strictly":""},on:{"check-change":a.handleGroupTreeCheckChange}})],1)],1),a._v(" "),i("el-tab-pane",{attrs:{label:"附加角色",name:"third"}},[i("el-form-item",{attrs:{label:"附加角色"}},[i("el-checkbox-group",{model:{value:a.mainForm.roleIds,callback:function(e){a.$set(a.mainForm,"roleIds",e)},expression:"mainForm.roleIds"}},a._l(a.editRoleListData,function(e){return i("el-checkbox",{key:e.roleId,attrs:{label:e.roleId}},[a._v(a._s(e.name))])}),1)],1)],1),a._v(" "),i("el-tab-pane",{attrs:{label:"附加权限",name:"fourth"}},[i("el-form-item",{attrs:{label:"附加权限"}},[i("el-tree",{ref:"editPermissionTree",attrs:{data:a.editPermissionTreeData,props:a.editPermissionTreeDefaultProps,"node-key":"id","empty-text":"","show-checkbox":"","default-expand-all":"","check-strictly":""},on:{"check-change":a.handlePermissionTreeCheckChange}})],1)],1)],1)],1),a._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return a.handleMainFormSure(!1)}}},[a._v("取 消")]),a._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.handleMainFormSure(!0)}}},[a._v("确 定")])],1)],1)],1),a._v(" "),i("el-footer",{staticClass:"footer"},[a.page.totalItemCount?i("el-pagination",{attrs:{"current-page":a.searchCriteriaForm.pagingInfo.pageNumber,"page-sizes":[20,50,100,200,400],"page-size":a.searchCriteriaForm.pagingInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.page.totalItemCount},on:{"size-change":a.handlePaginationSizeChange,"current-change":a.handlePaginationCurrentChange}}):a._e()],1)],1)},staticRenderFns:[]};t.a=i},uzdP:function(e,t,a){"use strict";var i=a("dZjg"),r=a("l3+X");function o(e){a("hWGZ")}var n=a("VU/8")(i.a,r.a,!1,o,null,null);t.a=n.exports}},["Q+Zd"]);
//# sourceMappingURL=index.js.map